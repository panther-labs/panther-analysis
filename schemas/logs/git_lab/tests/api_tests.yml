---
name: TestGitLabAPI
logType: GitLab.API
input: |
  {
    "time":"2018-10-29T12:49:42.123Z",
    "severity":"INFO",
    "duration_s":709.08,
    "db_duration_s":14.59,
    "view_duration_s":694.49,
    "status":200,
    "method":"GET",
    "path":"/api/v4/projects",
    "params":[{"key":"action","value":"git-upload-pack"},{"key":"changes","value":"_any"},{"key":"key_id","value":"secret"},{"key":"secret_token","value":"[FILTERED]"}],
    "host":"localhost",
    "remote_ip":"::1",
    "ua":"Ruby",
    "route":"/api/:version/projects",
    "user_id":1,
    "username":"root",
    "queue_duration_s":100.31,
    "gitaly_calls":30,
    "gitaly_duration_s":5.36,
    "redis_calls": 10,
    "redis_duration_s": 5.1,
    "correlation_id": "895c51dc-96c8-4f18-8be4-65252b17a324",
    "meta.user":"testuser",
    "meta.project":"testuser/jumbotron",
    "meta.root_namespace":"testnamespace",
    "meta.caller_id":"/api/:version/internal/post_receive"
  }
result: |
  {
    "time":"2018-10-29T12:49:42.123Z",
    "severity":"INFO",
    "duration_s":709.08,
    "db_duration_s":14.59,
    "view_duration_s":694.49,
    "status":200,
    "method":"GET",
    "path":"/api/v4/projects",
    "params":[{"key":"action","value":"git-upload-pack"},{"key":"changes","value":"_any"},{"key":"key_id","value":"secret"},{"key":"secret_token","value":"[FILTERED]"}],
    "host":"localhost",
    "remote_ip":"::1",
    "ua":"Ruby",
    "route":"/api/:version/projects",
    "user_id":1,
    "username":"root",
    "queue_duration_s":100.31,
    "gitaly_calls":30,
    "gitaly_duration_s":5.36,
    "redis_calls": 10,
    "redis_duration_s": 5.1,
    "correlation_id": "895c51dc-96c8-4f18-8be4-65252b17a324",
    "meta.user":"testuser",
    "meta.project":"testuser/jumbotron",
    "meta.root_namespace":"testnamespace",
    "meta.caller_id":"/api/:version/internal/post_receive",
    "p_event_time": "2018-10-29T12:49:42.123Z",
    "p_any_ip_addresses": ["::1"],
    "p_any_trace_ids": ["895c51dc-96c8-4f18-8be4-65252b17a324"],
    "p_any_usernames": ["root", "testuser"],
    "p_any_domain_names": ["localhost"],
    "p_log_type": "GitLab.API"
  }
