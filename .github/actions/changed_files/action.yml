name: Changed Files
description: Determine modified files
outputs:
  all_changed_files:
    description: 'All the changed files'
    value: ${{ steps.changed_files.outputs.all_changed_files }}
runs:
  using: composite
  steps:
    - name: Retrieve changed files
      id: changed_files
      uses: tj-actions/changed-files@7dee1b0c1557f278e5c7dc244927139d78c0e22a
    - name: List affected files
      if: ${{ steps.changed_files.outputs.all_changed_files != '' }}
      run: |
        echo "Affected files:"
        for file in ${{ steps.changed_files.outputs.all_changed_files }}; do
          echo "- ${file}"
        done
      shell: bash